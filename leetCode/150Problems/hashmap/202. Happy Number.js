// 1. ë¬¸ì œì™€ ì´í•´
// ì„¤ëª…: ì£¼ì–´ì§„ ì–‘ì˜ ì •ìˆ˜ nì´ 'í–‰ë³µí•œ ìˆ˜(happy number)'ì¸ì§€ íŒë³„í•˜ëŠ” ë¬¸ì œ.
// í–‰ë³µí•œ ìˆ˜ëŠ” ê° ìë¦¬ì˜ ìˆ«ìë¥¼ ì œê³±í•´ ë”í•˜ëŠ” ê³¼ì •ì„ ë°˜ë³µí–ˆì„ ë•Œ,
// ê²°êµ­ 1ì´ ë˜ëŠ” ìˆ˜ë¥¼ ì˜ë¯¸í•œë‹¤.
// ë§Œì•½ 1ì´ ë˜ì§€ ì•Šê³  ë™ì¼í•œ ìˆ«ì íŒ¨í„´ì´ ë°˜ë³µëœë‹¤ë©´(ì‚¬ì´í´ ë°œìƒ) â†’ false.
//
// ì…ë ¥:
//   n: ì–‘ì˜ ì •ìˆ˜ (1 <= n <= 2^31 - 1)
//
// ì¶œë ¥:
//   boolean (í–‰ë³µí•œ ìˆ˜ë©´ true, ì•„ë‹ˆë©´ false)
//
// ì¡°ê±´:
//   - ê° ìë¦¬ìˆ˜ë¥¼ ì œê³±í•´ ë”í•˜ëŠ” ê³¼ì •ì„ ë°˜ë³µ
//   - 1ì´ ë‚˜ì˜¤ë©´ ì¢…ë£Œ(true)
//   - ì´ì „ì— ë‚˜ì™”ë˜ ìˆ«ìê°€ ë‹¤ì‹œ ë‚˜ì˜¤ë©´ ì‚¬ì´í´ì´ë¯€ë¡œ ì¢…ë£Œ(false)
//
// ìœ í˜•: HashSet / Math / Simulation
//
// ì˜ˆì‹œ:
//   n = 19 â†’ true
//     1Â² + 9Â² = 82
//     8Â² + 2Â² = 68
//     6Â² + 8Â² = 100
//     1Â² + 0Â² + 0Â² = 1  âœ…
//
//   n = 2 â†’ false
//     2Â² = 4
//     4Â² = 16
//     1Â² + 6Â² = 37
//     3Â² + 7Â² = 58
//     5Â² + 8Â² = 89
//     8Â² + 9Â² = 145
//     1Â² + 4Â² + 5Â² = 42
//     4Â² + 2Â² = 20
//     2Â² + 0Â² = 4  ğŸ” (ë°˜ë³µ ë°œìƒ â†’ false)
//
// í¬ì¸íŠ¸:
//   - ì¤‘ë³µëœ ìˆ«ìê°€ ë‹¤ì‹œ ë“±ì¥í•˜ë©´ ë¬´í•œ ë£¨í”„ì— ë¹ ì§„ ê²ƒ
//   - ì´ë¥¼ íƒì§€í•˜ê¸° ìœ„í•´ Setì„ ì‚¬ìš©
//   - ê° ë‹¨ê³„ì—ì„œ ìë¦¬ìˆ˜ë¥¼ ë¶„ë¦¬í•˜ì—¬ ì œê³± í›„ í•©ì‚°


// 2. ê³„íš
// step 1: Setì„ ìƒì„±í•´ ì´ë¯¸ ë“±ì¥í•œ ìˆ«ìë¥¼ ê¸°ë¡
// step 2: nì´ 1ì´ ë  ë•Œê¹Œì§€ ë°˜ë³µ
//         - nì´ Setì— ì´ë¯¸ ìˆë‹¤ë©´ â†’ ì‚¬ì´í´ ë°œìƒ â†’ false
//         - nì„ Setì— ì¶”ê°€
//         - nì˜ ê° ìë¦¬ ìˆ«ìì˜ ì œê³± í•©ìœ¼ë¡œ n ê°±ì‹ 
// step 3: n === 1ì´ë©´ true ë°˜í™˜
// ì‹œê°„ë³µì¡ë„: O(log n) ~ O(k), (këŠ” ì‚¬ì´í´ ê¸¸ì´)
// ê³µê°„ë³µì¡ë„: O(k)


// 3. í’€ì´
/**
 * @param {number} n
 * @return {boolean}
 */
var isHappy = function(n) {
    const seen = new Set();

    // ê° ìë¦¬ ì œê³±í•©ì„ êµ¬í•˜ëŠ” í—¬í¼ í•¨ìˆ˜
    const getNext = (num) => {
        let sum = 0;
        while (num > 0) {
            let digit = num % 10;
            sum += digit * digit;
            num = Math.floor(num / 10);
        }
        return sum;
    };

    while (n !== 1 && !seen.has(n)) {
        seen.add(n);
        n = getNext(n);
    }

    return n === 1;
};


// 4. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
console.log(isHappy(19)); // true
console.log(isHappy(2));  // false
console.log(isHappy(7));  // true (7 â†’ 49 â†’ 97 â†’ 130 â†’ 10 â†’ 1)
console.log(isHappy(1111111)); // true
